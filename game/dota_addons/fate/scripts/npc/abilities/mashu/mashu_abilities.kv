"DOTAAbilities"
{
	//=================================================================================================================
	// Mashu : Bunker bolt (Q)
	//=================================================================================================================
	"mashu_bunker_bolt"
	{
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY" 
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_ALL"
		"AbilityTextureName"			"custom/hans/redshoes"
		"MaxLevel"						"5"
		"RequiredLevel"					"1"
		"LevelsBetweenUpgrades"			"1"
		"AbilityCastPoint"				"0.15"
		"AbilityCastRange"				"700"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
		"AnimationPlaybackRate"			"1"
		"AbilityCooldown"				"16"
		"AbilityManaCost"				"100"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"cast_delay"			"0.1"
			}
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"range"					"900"
			}			
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"aoe"					"250"
			}	
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"radius_detect"			"85"
			}			
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"dash_duration"			"0.4"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"damage"				"120 180 240 300 360"
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"slow_duration"			"1.8 2.1 2.4 2.7 3"
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"slow_amount"			"-30 -35 -40 -45 -50"
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"stun_duration"			"0.25"
			}
		}
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"abilities/mashu/mashu_abilities"
				"Function"		"OnBunkerBolt"
			}
		}		
		"Modifiers"
		{
			"modifier_mashu_bunker_bolting"
			{
				"IsHidden"			"0"
				"IsDebuff"			"0"
				"IsBuff"			"1"
				"Duration"			"%dash_duration"	
				"Attributes"		"MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

				"ThinkInterval"  		"0.01"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"abilities/mashu/mashu_abilities"
						"Function"		"OnBunkerBoltThink"
					}
				}

				"OnDestroy"
				{
					"RunScript"
					{
						"ScriptFile"		"abilities/mashu/mashu_abilities"
						"Function"		 	"OnBunkerBoltDeath"
					}
				}	
			}
			"modifier_mashu_bunker_bolt_slow"
			{
				"IsHidden"			"0"
				"IsDebuff"			"1"
				"Duration"			"%slow_duration"	
				"Attributes"		"MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

				"Properties"
				{
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%slow_amount"
				}	
			}
		}
	}

	//=================================================================================================================
	// Mashu : Bunker bolt (Black barrel SA) (Q)
	//=================================================================================================================
	"mashu_bunker_bolt_upgrade"
	{
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET | DOTA_ABILITY_BEHAVIOR_NOT_LEARNABLE | DOTA_ABILITY_BEHAVIOR_HIDDEN"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_ENEMY" 
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_ALL"
		"AbilityTextureName"			"custom/hans/redshoes"
		"MaxLevel"						"5"
		"RequiredLevel"					"1"
		"LevelsBetweenUpgrades"			"1"
		"AbilityCastPoint"				"0.1"
		"AbilityCastRange"				"900"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_2"
		"AnimationPlaybackRate"			"1"
		"AbilityCooldown"				"16"
		"AbilityManaCost"				"100"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"cast_delay"			"0.2"
			}
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"cast_range"			"900"
			}
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"aoe"					"250"
			}	
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"damage"				"120 180 240 300 360"
			}			
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"damage_per_str"		"2"
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"slow_duration"			"2.8 3.1 3.4 3.7 4"
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"slow_amount"			"-30 -35 -40 -45 -50"
			}
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"stun_duration"			"0.25"
			}			
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"mr_penalty"			"-12 -14 -16 -18 -20"
			}
		}
		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"abilities/hans/hans_abilities"
				"Function"		"OnRedShoes"
			}
		}		
		"Modifiers"
		{
			"modifier_mashu_bunker_bolt_slow"
			{
				"IsHidden"			"0"
				"IsDebuff"			"1"
				"Duration"			"%slow_duration"	
				"Attributes"		"MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"

				"Properties"
				{
					"MODIFIER_PROPERTY_MOVESPEED_BONUS_PERCENTAGE"  "%slow_amount"
					"MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS"	"%mr_penalty"				
				}	
			}
		}
	}

	//=================================================================================================================
	// Mashu : Protect (W)
	//=================================================================================================================
	"mashu_protect"
	{
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_UNIT_TARGET"
		"AbilityUnitTargetTeam"			"DOTA_UNIT_TARGET_TEAM_FRIENDLY"
		"AbilityUnitTargetType"			"DOTA_UNIT_TARGET_ALL"
		"AbilityTextureName"			"custom/hans/incantation"
		"MaxLevel"						"5"
		"RequiredLevel"					"1"
		"LevelsBetweenUpgrades"			"1"
		"AbilityCastRange"				"400"
		"AbilityCastPoint"				"0.2"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_4"
		"AnimationPlaybackRate"			"1"
		"AbilityCooldown"				"14"
		"AbilityManaCost"				"200"

		"AbilitySpecial"
		{
			"01"
			{
				"var_type"				"FIELD_INTEGER"
				"cast_range"			"400"
			}
			"01"
			{
				"var_type"				"FIELD_FLOAT"
				"cast_time"				"0.2"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"damage_reduce"			"50 55 60 65 70"
			}			
			"03"
			{
				"var_type"				"FIELD_FLOAT"
				"max_range"				"800"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"parry_duration"		"0.3"
			}
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"protect_duration"		"1"
			}		
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"parry_duration"		"0.3"
			}			
			"02"
			{
				"var_type"				"FIELD_FLOAT"
				"red_cooldown"			"9"
			}
			"02"
			{
				"var_type"				"FIELD_INTEGER"
				"mana_restore"			"100"
			}
		}

		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"abilities/mashu/mashu_abilities"
				"Function"		"OnProtectCastStart"
			}
		}

	    "Modifiers"
	    {
			"modifier_mashu_protect"
			{	
				"IsHidden"				"0"
				"IsBuff"				"1"
				"Duration"				"%protect_duration" 
				"Attributes"			"MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
				"Properties"
				{
					"MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE" "%damage_reduce"
				}

				"ThinkInterval"  		"0.1"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"abilities/mashu/mashu_abilities"
						"Function"		"OnProtectThink"
					}
				}

				"OnTakeDamage"
				{
					"RunScript"
					{
						"ScriptFile"	"abilities/semiramis/mashu_abilities"
						"Function"		"OnProtectProc"
						"DamageTaken"	"%attack_damage"		
					}
				}
			}

			"modifier_mashu_parry"
			{	
				"IsHidden"				"0"
				"IsBuff"				"1"
				"Duration"				"%parry_duration" 
				"Attributes"			"MODIFIER_ATTRIBUTE_IGNORE_INVULNERABLE"
				"Properties"
				{
					"MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE" "%damage_reduce"
				}
				"OnTakeDamage"
				{
					"RunScript"
					{
						"ScriptFile"	"abilities/mashu/mashu_abilities"
						"Function"		"OnProtectProc"
						"DamageTaken"	"%attack_damage"		
					}
				}				
			}
		}	
	}	

	//=================================================================================================================
	// Mashu : Shield of Rousing Heroism (E)
	//=================================================================================================================
	"mashu_taunt"
	{
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityTextureName"			"custom/hans/territory"
		"MaxLevel"						"5"		
		"RequiredLevel"					"1"
		"LevelsBetweenUpgrades"			"2"
		"AbilityCastPoint"				"0.4"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_5"
		"AnimationPlaybackRate"			"1"
		"AbilityCooldown"				"32"
		"AbilityManaCost"				"400"
		
		"AbilitySpecial"
		{
			"01"
			{
				"var_type"			"FIELD_FLOAT"
				"buff_duration"		"4 4.5 5 5.5 6"
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"damage_reduction"	"-15 -20 -25 -30 -35"
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"radius"			"350"
			}
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"taunt_duration"	"1.3 1.6 1.9 2.2 2.5"
			}			
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"cast_delay"		"0.35"
			}				
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"channel_time"		"0.75"
			}			
		}

		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"abilities/mashu/mashu_abilities"
				"Function"		"OnMashuTaunt"
			}
		}
		
		"Modifiers"
		{
			"modifier_mashu_taunt"
			{
				"Duration"				"%taunt_duration"
				"IsHidden"				"0"
				"IsDebuff"				"1"

				"States"
				{
					"MODIFIER_STATE_UNSELECTABLE"			"MODIFIER_STATE_VALUE_ENABLED"
					"MODIFIER_STATE_COMMAND_RESTRICTED"			"MODIFIER_STATE_VALUE_ENABLED"
				}
			   	

				"ThinkInterval"  		"0.15"
				"OnIntervalThink"
				{
					"RunScript"
					{
						"ScriptFile"	"abilities/mashu/mashu_abilities"
						"Function"		"OnMashuTauntThink"
					}
				}

				"OnDestroy"
				{
					"RunScript"
					{
						"ScriptFile"		"abilities/mashu/mashu_abilities"
						"Function"		 	"OnMashuTauntDestroy"
					}
				}		
			}

			"modifier_mashu_dmg_reduc"
			{
				"Duration"				"%buff_duration"
				"IsHidden"				"0"
				"IsBuff"				"1"
				"Properties"
				{
					"MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE" "%damage_reduction"
				}
			}
		}
	}

	//=================================================================================================================
	// Mashu : Transient wall of snowflake (R)
	//=================================================================================================================
	"mashu_snowflake"
	{
		"BaseClass"						"ability_datadriven"
		"AbilityBehavior"				"DOTA_ABILITY_BEHAVIOR_NO_TARGET"
		"AbilityTextureName"			"custom/hans/territory"
		"MaxLevel"						"5"		
		"RequiredLevel"					"1"
		"LevelsBetweenUpgrades"			"2"
		"AbilityCastPoint"				"0.2"
		"AbilityCastAnimation"			"ACT_DOTA_CAST_ABILITY_5"
		"AnimationPlaybackRate"			"1"
		"AbilityCooldown"				"41"
		"AbilityManaCost"				"600"
		
		"AbilitySpecial"
		{				
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"channel_time"		"0.95"
			}
			"01"
			{
				"var_type"			"FIELD_FLOAT"
				"buff_duration"		"5 6.5 8 9.5 11"
			}
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"damage_reduction_passive"	"-8 -10 -12 -14 -16"
			}			
			"03"
			{
				"var_type"			"FIELD_FLOAT"
				"health_regen_passive"	"10 15 20 25 30"
			}
			"05"
			{
				"var_type"			"FIELD_FLOAT"
				"radius"			"350"
			}			
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"cast_delay"		"0.3"
			}				
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"health_regen_active"		"50 75 100 125 150"
			}					
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"active_bonus_strength"		"10 14 18 22 26"
			}					
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"active_instant_heal"		"200 300 400 500 600"
			}			
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"active_magic_res"	"10 15 20 25 30"
			}				
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"active_arm"		"5 7 9 11 13"
			}					
			"06"
			{
				"var_type"			"FIELD_FLOAT"
				"invul"				"0.4"
			}				
		}

		"OnSpellStart"
		{
			"RunScript"
			{
				"ScriptFile"	"abilities/mashu/mashu_abilities"
				"Function"		"OnMashuTaunt"
			}
		}
		
		"Modifiers"
		{
			"modifier_mashu_snowflake"
			{
				"Duration"				"%buff_duration"
				"IsHidden"				"0"
				"IsDebuff"				"0"

				"Properties"
				{
					"MODIFIER_PROPERTY_MAGICAL_RESISTANCE_BONUS"	"%active_magic_res
					"MODIFIER_PROPERTY_PHYSICAL_ARMOR_BONUS"	"%active_arm"
					"MODIFIER_PROPERTY_HEALTH_REGEN_CONSTANT"	"%health_regen_active"
					"MODIFIER_PROPERTY_STATS_STRENGTH_BONUS"	"%active_bonus_strength"
				}
			}

			"modifier_mashu_snowflake_passive"
			{
				"Duration"				"%buff_duration"
				"IsHidden"				"0"
				"IsBuff"				"1"
				"Properties"
				{
					"MODIFIER_PROPERTY_INCOMING_DAMAGE_PERCENTAGE" "%damage_reduction"
				}
			}
		}
	}
}


	